= Build Requirements =
== Packages Needed ==
=== Redhat Based Linux ===
<pre>sudo yum -y groupinstall "Development Tools"
sudo yum -y install git wget</pre>
=== Debian Based Linux ===
<pre>sudo apt-get install build-essential git wget</pre>
= Get the Source =
# Open a terminal or console on your linux box.
# Obtain root privileges (e.g. sudo su -,su - root)
# Download the source to the home director (e.g. /root or ~/)
#* <pre>git clone http://git.ipxe.org/ipxe.git</pre>
# Change to the src directory
#* <pre>cd /root/ipxe/src</pre>
= Create iPXE Script based on your needs.
== Default ipxe script (/tftpboot/default.ipxe)==
* <pre>wget https://svn.code.sf.net/p/freeghost/code/trunk/src/ipxe/src/ipxescript
== Custom ipxe script ==
* <pre>vi ipxescript</pre>
Make the file so it contains your "custom" code.

Example code base: (Embedding the default.ipxe script into undionly.)

'''NOTE: CHANGE x.x.x.x to the IP of your FOG Server'''
<pre>#!ipxe
dhcp || reboot
cpuid --ext 29 && set arch x86_64 || set arch i386
params
param mac ${net0/mac}
param arch ${arch}
chain http://x.x.x.x/fog/service/ipxe/boot.php##params
</pre>
== Build the undionly/ipxe files. ==
'''I USE THE FOLLOWING COMMAND TO BUILD ALL FILES AT ONCE.'''
'''Remove the {}'s and only apply the file you wish to build if you want only a specific file.'''
<pre>make bin/{undionly,ipxe}.{,k,kk}pxe EMBED=ipxescript</pre>
== Copy and/or Use your files ==
'''I USE THE FOLLOWING COMMAND TO COPY ALL FILES AT ONCE.  Remove the {}'s and only copy the file you wish to use if you want only a specific file.'''
<pre>cp bin/{undionly,ipxe}.{,k,kk}pxe /tftpboot/ </pre>
== Use other undionly or ipxe files ==
There are two ways you can accomplish this, the easiest is the first method:
'''CHANGE <filename> with the filename you wish to try'''
* Copy the file you wish to use as undionly.kpxe
<pre>cd /tftpboot
mv undionly.kpxe undionly.kpxeTEST1; cp <filename> undionly.kpxe</pre>
''' You can also just make a symbolic link to the file you wish to use, though the first time you do this you will have to, at the very least, rename the "real" undionly.kpxe file to something else.'''
To do the same but as a symbolic link use:
<pre>cd /tftpboot
mv undionly.kpxe undionly.kpxeREAL
ln -s <filename> undionly.kpxe</pre>
Don't forget to remove the link if you want to use other files.
= Complete =
Hopefully the above information helps you out.