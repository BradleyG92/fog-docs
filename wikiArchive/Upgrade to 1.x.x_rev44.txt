= Overview =
'''NOTE: 1.x.x is a, nearly, complete rewrite from previous versions of FOG.  There may be issues when upgrading from past revisions of FOG so please backup your installation before upgrading!

*Migration for v0.32 to version v1.x.x will cause you to loose the operation system information that was associated with your hosts.  This information has been moved to the image item now, so you will need to update all your images to set the appropriate operating system!  Please see the Migration Instructions section below for more information. 

*Many successful upgrades from v0.32 have occurred. It is possible to upgrade from v0.1 all the way to v1.x.x.

----


*All commands are assumed to be run as root.  If you don't have access to root, prepend the installation with sudo (ex.
<pre>sudo svn co https://svn.code.sf.net/p/freeghost/code/tags/1.2.0 /opt/fog_1.2.0</pre>
<pre>sudo ./installfog.sh</pre>

== Download ==
*Three Methods currently exist:
# To get the Source from [[SVN]]
#* <pre>svn co https://svn.code.sf.net/p/freeghost/code/tags/1.2.0 /opt/fog_1.2.0</pre>
# To get tarball file.
#* <pre>wget http://sourceforge.net/projects/freeghost/files/latest/download</pre>
# Click to get tarball file
#*http://sourceforge.net/projects/freeghost/files/FOG/fog_1.2.0/fog_1.2.0.tar.gz/download

=Methods=

*For <span style="background-color:Green;"><span style="color:White">'''Direct'''</span></span> upgrade from 0.32 to 1.x.x --> '''[[Upgrade_to_1.x.x#Direct_Upgrade | Direct Upgrade]]'''

*For <span style="background-color:Yellow;"><span style="color:Black">'''Migration'''</span></span> from Old Server 0.32 to a New Server 1.x.x --> '''[[Upgrade_to_1.x.x#Migration_Upgrade| Migration Upgrade]]'''
==Direct Upgrade==

==== Prepare for install ====
# Change to the downloaded source installation folder.
#* <pre>cd /opt/fog_1.2.0/bin</pre>
=== Install ===
# Confirm your settings in .fogsettings <span style="background-color:Yellow;"><span style="color:Black">'''UNLESS YOU HAVE TO MAKE CHANGES'''</span></span>
#* Example: If you added a password to mysql you will need to confirm the settings there. Also, if you changed the default user.
# Begin installing.
#* <pre>./installfog.sh</pre>

=== Post Install ===

# Go to the link you normally go to and you should notice the upgrade/install database screen. (http://<ip-address-of-FOG-Server/fog/management>/)
#* Click the '''Submit''' button and it should move on to say, Click here to login, once complete.
# '''Finish''' the install in the '''terminal window'''.

*Continue to [[Upgrade_to_1.x.x#Operating_System_Information | Operating_System_Information ]]

==Migration Upgrade==

=== Prepare for install  ===
====Old Server====
# Backup old database
#* <pre>mysqldump --opt -u root -p [mysqlpassword-default-blank] fog > fog_backup.sql</pre>
#* '''NOTE:''' ''There is no space between -u and root also -p and password''
#* <span style="background-color:RED;"><span style="color:White">DO NOT tar ball or gz</span></span>

=== Install ===
====New Server====
*Click below for step-by-step guides written for your favorite flavor of Linux:

{{Installation}}

# Change to the downloaded source installation folder.
#* <pre>cd /opt/fog_1.2.0/bin</pre>

=== Post Install ===
# Go to the link you normally go to and you should notice the upgrade/install database screen. (http://<ip-address-of-FOG-Server/fog/management>/)
#* Click the '''Submit''' button and it should move on to say, Click here to login, once complete.
# '''Finish''' the install in the '''terminal window'''.
# '''Sign in''' into the FOG GUI with your normal user and password.
# Record <span style="background-color:Green;"><span style="color:White">ALL</span></span> information on  [[File:Config.png]]'''Fog Confiuration''' --> '''Fog Settings''' and  [[File:Storage.png]]'''Storage management''' pages
# Import old database backup '''fog_backup.sql''' on [[File:Config.png]] '''Fog Configuration''' --> '''Configuration Save'''
# '''Click''' [[File:Home.png]] HOME.
#* The upgrade/install database screen will reappear.
# Click the '''Submit''' button and it should move on to say, Click here to login, once complete.
# Edit any settings in the [[File:Config.png]] '''Fog Configuration''' --> '''Fog Settings''' page that may have changed from the server move (ip, paths, etc) that you recorded from the [[File:Config.png]] '''Fog Configuration''' --> '''Fog Settings''' page and [[File:Storage.png]]'''Storage Management''' pages
# '''Finish''' the install in the '''terminal window'''.

== Operating System Information ==
* As the hostOS column has been moved to the images table rather than the hosts table, you need to specify the Operating system of the images currently on your system.
* To do so, login to the FOG GUI and navigate to the [[File:Images.png]]Image Management Page.  Click on each of your images and set the OSID accordingly.

== Change your DHCP Option 67 ==

# Go to your DHCP server and change your Option 67 from ''pxelinux.0'' to '''undionly.kpxe''' (or other iPXE file)
#* '''Default undionly.kpxe''' (Other boot files include ipxe.kkpxe, ipxe.pxe, default.ipxe, ipxe.kpxe, undionly.pxe, pxelinux.0.old, undionly.kkpxe and even custom ones if you wish to create them)

== Congratulations ==
*You should now have an UPGRADED FOG server that will be able to perform all the tasks we've all come to know and love.