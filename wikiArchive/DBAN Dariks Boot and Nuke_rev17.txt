This is a guide for adding Darik's Boot and Nuke (DBAN) to FOG 1.3.0.


For this example, we will be using Fedora 21 Server - however for Debian/Ubuntu based distributions you should only need to change the web directory paths to (maybe?) exclude the /html part.

Please note that the below wget URL will likely need updated to a current URL for the latest DBAN ISO.



Here is a '''step-by-step explanation''' of what the '''below commands''' do:

*Make a directory called iso in the root directory.

*Make a directory in the web folder called dban

*Get the latest copy of dban (URL likely needs updated) and put it into the iso directory.

*Mount the iso to the dban web directory as read-only (must be read only for ISOs).


These commands are executed on your FOG server via CLI with sudo or root permissions:

<pre>mkdir /iso
mkdir /var/www/html/dban
wget -O /iso/dban.iso http://downloads.sourceforge.net/project/dban/dban/dban-2.3.0/dban-2.3.0_i586.iso
mount -t iso9660 -o loop /iso/dban.iso /var/www/html/dban</pre>


If you've done the steps above correctly, you should be able to visit the directory in a web browser like so to see the files from the ISO:

<pre>x.x.x.x/dban</pre>


Now we must add a new entry to the FOG boot menu. For this, we will navigate in the FOG web UI to here: 

FOG Configuration -> iPXE New Menu Entry

In this menu, you will add the below information. 


Menu Item:  DBAN

Description: Boot and nuke (This is what the menu displays)

Parameters:

<pre>:DBAN
kernel ${boot_url}/dban/dban.bzi nuke="dwipe --autonuke" silent vga=785
boot</pre>


Menu Show with: All Hosts


It should look something like this when you're done:

[[file:DBAN_1.3.0.png]]


'''Resources:'''
You may edit the nuke parameters as you need. There is a great thread in the forums on all the parameters here: 

https://forums.fogproject.org/topic/4069/fog-1-2-0-dban-advanced-pxe-boot-menu